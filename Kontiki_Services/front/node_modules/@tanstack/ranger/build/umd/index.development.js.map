{"version":3,"file":"index.development.js","sources":["../../src/utils.ts","../../src/index.ts"],"sourcesContent":["export const getBoundingClientRect = (element: any) => {\n  const rect = element.getBoundingClientRect()\n  return {\n    left: Math.ceil(rect.left),\n    width: Math.ceil(rect.width),\n  }\n}\n\nexport const sortNumList = (arr: ReadonlyArray<number | string>) =>\n  [...arr].map(Number).sort((a, b) => a - b)\n\nexport const linearInterpolator = {\n  getPercentageForValue: (val: number, min: number, max: number) => {\n    return Math.max(0, Math.min(100, ((val - min) / (max - min)) * 100))\n  },\n  getValueForClientX: (\n    clientX: number,\n    trackDims: { width: number; left: number },\n    min: number,\n    max: number,\n  ) => {\n    const { left, width } = trackDims\n    const percentageValue = (clientX - left) / width\n    const value = (max - min) * percentageValue\n    return value + min\n  },\n}\n","import { linearInterpolator, getBoundingClientRect, sortNumList } from './utils'\n\nexport type RangerChangeEvent<TTrackElement> = (\n  instance: Ranger<TTrackElement>,\n) => void\n\nexport type RangerInterpolator = {\n  getPercentageForValue: (val: number, min: number, max: number) => number\n  getValueForClientX: (\n    clientX: number,\n    trackDims: { width: number; left: number },\n    min: number,\n    max: number,\n  ) => number\n}\n\nexport type RangerClassConfig<TTrackElement = unknown> = {\n  getRangerElement: () => TTrackElement | null\n  values: ReadonlyArray<number>\n\n  min: number\n  max: number\n\n  tickSize: number\n  ticks?: ReadonlyArray<number>\n\n  interpolator: RangerInterpolator\n  onChange: RangerChangeEvent<TTrackElement>\n  onDrag?: RangerChangeEvent<TTrackElement>\n\n  rerender: () => void\n  debug: boolean\n} & ({ stepSize: number } | { steps: ReadonlyArray<number> })\n\nexport type RangerConfig<TTrackElement = unknown> = Omit<\n  RangerClassConfig<TTrackElement>,\n  'tickSize' | 'interpolator' | 'onChange' | 'debug'\n> & {\n  tickSize?: number\n  interpolator?: RangerInterpolator\n  onChange?: RangerChangeEvent<TTrackElement>\n  debug?: boolean\n} & ({ stepSize: number } | { steps: ReadonlyArray<number> })\n\nexport type RangerOptions<TTrackElement = unknown> = Omit<\n  RangerConfig<TTrackElement>,\n  'rerender'\n> &\n  ({ stepSize: number } | { steps: ReadonlyArray<number> })\n\nexport class Ranger<TTrackElement = unknown> {\n  activeHandleIndex: number | undefined\n  tempValues: ReadonlyArray<number> | undefined\n  sortedValues: ReadonlyArray<number> = []\n\n  options!: RangerClassConfig<TTrackElement>\n\n  private rangerElement: TTrackElement | null = null\n\n  constructor(opts: RangerConfig<TTrackElement>) {\n    this.setOptions(opts)\n  }\n\n  setOptions(opts: RangerConfig<TTrackElement>) {\n    Object.entries(opts).forEach(([key, value]) => {\n      if (typeof value === 'undefined') delete (opts as any)[key]\n    })\n\n    this.options = {\n      debug: false,\n      tickSize: 10,\n      interpolator: linearInterpolator,\n      onChange: () => {},\n      ...opts,\n    }\n  }\n\n  _willUpdate = () => {\n    const rangerElement = this.options.getRangerElement()\n\n    if (this.rangerElement !== rangerElement) {\n      this.rangerElement = rangerElement\n    }\n  }\n\n  getValueForClientX = (clientX: number) => {\n    const trackDims = getBoundingClientRect(this.rangerElement)\n    return this.options.interpolator.getValueForClientX(\n      clientX,\n      trackDims,\n      this.options.min,\n      this.options.max,\n    )\n  }\n\n  getNextStep = (val: number, direction: number): number => {\n    const { min, max } = this.options\n\n    if ('steps' in this.options) {\n      const { steps } = this.options\n      let currIndex = steps.indexOf(val)\n      let nextIndex = currIndex + direction\n      if (nextIndex >= 0 && nextIndex < steps.length) {\n        return steps[nextIndex] as number\n      } else {\n        return val\n      }\n    } else {\n      let nextVal = val + this.options.stepSize * direction\n      if (nextVal >= min && nextVal <= max) {\n        return nextVal\n      } else {\n        return val\n      }\n    }\n  }\n\n  roundToStep = (val: number) => {\n    const { min, max } = this.options\n\n    let left = min\n    let right = max\n    if ('steps' in this.options) {\n      this.options.steps.forEach((step) => {\n        if (step <= val && step > left) {\n          left = step\n        }\n        if (step >= val && step < right) {\n          right = step\n        }\n      })\n    } else {\n      const { stepSize } = this.options\n      while (left < val && left + stepSize < val) {\n        left += stepSize\n      }\n\n      right = Math.min(left + stepSize, max)\n    }\n\n    if (val - left < right - val) {\n      return left\n    }\n    return right\n  }\n\n  handleDrag = (e: any) => {\n    if (this.activeHandleIndex === undefined) {\n      return\n    }\n\n    const clientX =\n      e.type === 'touchmove' ? e.changedTouches[0].clientX : e.clientX\n    const newValue = this.getValueForClientX(clientX)\n    const newRoundedValue = this.roundToStep(newValue)\n\n    this.sortedValues = [\n      ...this.options.values.slice(0, this.activeHandleIndex),\n      newRoundedValue,\n      ...this.options.values.slice(this.activeHandleIndex + 1),\n    ]\n\n    if (this.options.onDrag) {\n      this.options.onDrag(this)\n    } else {\n      this.tempValues = this.sortedValues\n      this.options.rerender()\n    }\n  }\n\n  handleKeyDown = (e: KeyboardEvent, i: number) => {\n    const { values } = this.options\n\n    // Left Arrow || Right Arrow\n    if (e.keyCode === 37 || e.keyCode === 39) {\n      this.activeHandleIndex = i\n      const direction = e.keyCode === 37 ? -1 : 1\n      const newValue = this.getNextStep(values[i] as number, direction)\n      const newValues = [\n        ...values.slice(0, i),\n        newValue,\n        ...values.slice(i + 1),\n      ]\n      this.sortedValues = sortNumList(newValues)\n      if (this.options.onChange) {\n        this.options.onChange(this)\n      }\n    }\n  }\n\n  handlePress = (_e: any, i: number) => {\n    this.activeHandleIndex = i\n    this.options.rerender()\n\n    const handleRelease = () => {\n      const { tempValues, handleDrag } = this\n\n      document.removeEventListener('mousemove', handleDrag)\n      document.removeEventListener('touchmove', handleDrag)\n      document.removeEventListener('mouseup', handleRelease)\n      document.removeEventListener('touchend', handleRelease)\n      this.sortedValues = sortNumList(tempValues || this.options.values)\n      if (this.options.onChange) {\n        this.options.onChange(this)\n      }\n      if (this.options.onDrag) {\n        this.options.onDrag(this)\n      }\n      this.activeHandleIndex = undefined\n      this.tempValues = undefined\n      this.options.rerender()\n    }\n    const { handleDrag } = this\n    document.addEventListener('mousemove', handleDrag)\n    document.addEventListener('touchmove', handleDrag)\n    document.addEventListener('mouseup', handleRelease)\n    document.addEventListener('touchend', handleRelease)\n  }\n\n  getPercentageForValue = (val: number) =>\n    this.options.interpolator.getPercentageForValue(\n      val,\n      this.options.min,\n      this.options.max,\n    )\n\n  getTicks = () => {\n    let ticks: Array<number> = []\n    if (this.options.ticks) {\n      ticks = [...this.options.ticks]\n    } else if ('steps' in this.options) {\n      ticks = [...this.options.steps]\n    } else {\n      ticks = [this.options.min]\n      while (\n        (ticks[ticks.length - 1] as number) <\n        this.options.max - this.options.tickSize\n      ) {\n        ticks.push((ticks[ticks.length - 1] as number) + this.options.tickSize)\n      }\n      ticks.push(this.options.max)\n    }\n\n    return ticks.map((value, i) => ({\n      value,\n      key: i,\n      percentage: this.getPercentageForValue(value),\n    }))\n  }\n\n  getSteps = () => {\n    const values = sortNumList(this.tempValues || this.options.values)\n\n    return [...values, this.options.max].map((value, i) => {\n      const previousValue = values[i - 1]\n      const leftValue =\n        previousValue !== undefined ? previousValue : this.options.min\n      const left = this.getPercentageForValue(leftValue)\n      const width = this.getPercentageForValue(value) - left\n      return {\n        left,\n        width,\n      }\n    })\n  }\n\n  handles = () => {\n    return (this.tempValues || this.options.values).map((value, i) => ({\n      value,\n      isActive: i === this.activeHandleIndex,\n      onKeyDownHandler: (e: any) => {\n        this.handleKeyDown(e, i)\n      },\n      onMouseDownHandler: (e: any) => {\n        this.handlePress(e, i)\n      },\n      onTouchStart: (e: any) => {\n        this.handlePress(e, i)\n      },\n    }))\n  }\n}\n"],"names":["getBoundingClientRect","element","rect","left","Math","ceil","width","sortNumList","arr","map","Number","sort","a","b","linearInterpolator","getPercentageForValue","val","min","max","getValueForClientX","clientX","trackDims","percentageValue","value","Ranger","sortedValues","rangerElement","constructor","opts","setOptions","Object","entries","forEach","key","options","debug","tickSize","interpolator","onChange","_willUpdate","getRangerElement","getNextStep","direction","steps","currIndex","indexOf","nextIndex","length","nextVal","stepSize","roundToStep","right","step","handleDrag","e","activeHandleIndex","undefined","type","changedTouches","newValue","newRoundedValue","values","slice","onDrag","tempValues","rerender","handleKeyDown","i","keyCode","newValues","handlePress","_e","handleRelease","document","removeEventListener","addEventListener","getTicks","ticks","push","percentage","getSteps","previousValue","leftValue","handles","isActive","onKeyDownHandler","onMouseDownHandler","onTouchStart"],"mappings":"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"}